# Quick Reference Guide for AI Agents

## File & Directory Map

```
Root Directory
├── HTML Pages (5 main + 3 modular)
│   ├── index.html              → Homepage with carousel
│   ├── people.html             → Team members with modals
│   ├── publications.html       → Research publications
│   ├── research.html           → Research areas (placeholder)
│   ├── news.html               → News & updates (placeholder)
│   ├── contact.html            → Contact information
│   ├── nav.html                → Modular navigation (used by all except index)
│   ├── footer.html             → Modular footer
│   ├── carousel.html           → Carousel content for homepage
│   └── bios.html               → Team member biographies (data source)
│
├── Data Files
│   ├── publications.json       → Generated by fetch_publications.py
│   └── README.md               → Project documentation
│
├── Python Scripts
│   └── fetch_publications.py   → Google Scholar scraper
│
└── assets/
    ├── css/
    │   ├── main.css            → Compiled main stylesheet
    │   ├── fontawesome-all.min.css
    │   └── noscript.css
    ├── js/
    │   ├── Modular Loaders
    │   │   ├── fetchnav.js     → Loads navigation
    │   │   ├── fetchfooter.js  → Loads footer
    │   │   └── fetchcarousel.js → Loads & initializes carousel
    │   ├── Dynamic Renderers
    │   │   ├── fetchpublications.js → Renders publications from JSON
    │   │   └── fetchcontacts.js → Renders contact list from bios
    │   ├── Interactive Features
    │   │   └── teambio.js      → Modal system for biographies
    │   └── Template JS (Helios)
    │       ├── main.js         → Core template functionality
    │       ├── util.js
    │       ├── jquery.*.js     → jQuery plugins
    │       └── *.min.js
    ├── sass/
    │   ├── main.scss           → Main SCSS source
    │   └── libs/               → SCSS partials
    └── webfonts/
```

## Key File Relationships

### Navigation System
- **index.html**: Contains inline navigation (unique)
- **All other pages**: Use `<div id="nav-placeholder"></div>` + `fetchnav.js` → loads `nav.html`

### Biography System
- **Source**: `bios.html` (all biography data)
- **Consumer 1**: `teambio.js` → `people.html` (modal popups)
- **Consumer 2**: `fetchcontacts.js` → `contact.html` (contact list)

### Publications System
- **Scraper**: `fetch_publications.py` → scrapes Google Scholar
- **Output**: `publications.json` (structured data)
- **Renderer**: `fetchpublications.js` → `publications.html` (visual display)

### Carousel System
- **Content**: `carousel.html` (news articles)
- **Loader**: `fetchcarousel.js` → `index.html`
- **Features**: Auto-scroll, infinite loop, navigation

## Common Code Patterns

### Adding a Team Member (3 files to edit)

**1. Add image:** `images/[FirstName LastName].jpg` (250×250px)

**2. Add to bios.html:**
```html
<div id="firstname_lastname" class="bio" style="text-align: center;">
    <img src="images/FirstName LastName.jpg" style="max-width: 300px; border-radius: 50%;" />
    <h3>FirstName LastName</h3>
    <p>Position (Professor/Researcher/Postdoc/PhD Student)</p>
    <p>
        Biography text here. Can include <b>bold</b>, <i>italic</i>, 
        and <a href="url">links</a>.
    </p>
    <ul class="icons" style="list-style: none; padding: 0;">
        <li><a href="mailto:email@example.com" class="icon solid fa-envelope">
            <span class="label">Email</span></a> email@example.com</li>
        <!-- Optional: LinkedIn, Twitter, etc. -->
    </ul>
</div>
```

**3. Add to people.html in appropriate section:**
```html
<div class="col-4 col-12-mobile special" style="flex: 0 0 250px; margin: 1em;">
    <a href="#" class="image fit" onclick="event.preventDefault(); openModal('firstname_lastname')">
        <img src="images/FirstName LastName.jpg" alt="FirstName LastName" 
             style="border-radius: 50%; width: 250px; height: 250px;" />
        <h3><b>FirstName LastName</b></h3>
    </a>
    <p>Position</p>
</div>
```

**Result**: Profile appears on people page, bio in modal, contact on contact page (automatic)

### Adding a Carousel News Item

**Edit carousel.html, add new article:**
```html
<article>
    <a href="https://example.com/article" class="image featured">
        <img src="images/article_image.png" alt="" />
    </a>
    <header>
        <h3><a href="https://example.com/article">Article Headline</a></h3>
    </header>
    <p>Brief description of the news article or achievement.</p>
</article>
```

**Result**: Automatically appears in homepage carousel

### Creating a New Page

**1. Create HTML file:** `newpage.html`
```html
<!DOCTYPE HTML>
<html>
<head>
    <title>New Page Title</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="preload" as="image" href="images/bg_bioinformatics_v2_2K.jpg" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>
<body class="left-sidebar is-preload">
    <div id="page-wrapper">
        <div id="nav-placeholder"></div>
        
        <div class="wrapper style1">
            <div class="container">
                <div class="row gtr-200">
                    <div class="col-12" id="content">
                        <article id="main">
                            <header>
                                <h2>Page Title</h2>
                            </header>
                            <!-- Your content here -->
                        </article>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="footer-placeholder"></div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.dropotron.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/fetchfooter.js"></script>
    <script src="assets/js/fetchnav.js"></script>
</body>
</html>
```

**2. Add to navigation:** Edit `nav.html`
```html
<li><a href="newpage.html">NEW PAGE</a></li>
```

**3. Add to index.html navigation (inline):**
```html
<li><a href="newpage.html">NEW PAGE</a></li>
```

## Script Loading Order (Critical!)

**Always maintain this order:**
```html
<!-- jQuery MUST be first -->
<script src="assets/js/jquery.min.js"></script>

<!-- jQuery plugins (require jQuery) -->
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>

<!-- Template utilities -->
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>

<!-- Template main (requires all above) -->
<script src="assets/js/main.js"></script>

<!-- Page-specific scripts (last) -->
<script src="assets/js/fetchnav.js"></script>
<script src="assets/js/fetchfooter.js"></script>
<!-- ... other page-specific scripts ... -->
```

## Data Structure Reference

### publications.json Structure
```json
[
    {
        "title": "Full paper title",
        "link": "https://scholar.google.se/citations?...",
        "authors": "Author1, Author2, Author3",
        "journal": "Journal/Conference name",
        "abstract": "Full abstract text",
        "date": "YYYY"
    }
]
```

### bios.html Structure
```html
<div id="unique_id" class="bio" style="text-align: center;">
    <img src="images/photo.jpg" />
    <h3>Full Name</h3>
    <p>Position Title</p>
    <p>Biography paragraph(s)</p>
    <ul class="icons">
        <li><a href="mailto:email">email@domain.com</a></li>
        <!-- Optional social media links -->
    </ul>
</div>
```

## CSS Class Reference

### Layout Classes (Helios Template)
- `.wrapper.style1` - Content wrapper
- `.container` - Content container
- `.row` - Grid row
- `.col-[1-12]` - Column width (desktop)
- `.col-[1-12]-mobile` - Column width (mobile)
- `.gtr-200` - Row gap (200 = 200% standard gap)

### Component Classes
- `.bio` - Biography container (in bios.html)
- `.modal` - Modal overlay
- `.carousel` - Carousel container
- `.publication-table` - Publication table styling
- `.special` - Special styling (used on people profiles)

### State Classes
- `.is-preload` - Loading state (removed after content loads)
- `.loading` - Loading animation (for carousel items)
- `.image.fit` - Responsive image
- `.image.featured` - Featured image in carousel

## Testing Checklist

### Before Committing Changes
- [ ] Test in local server (`python -m http.server`)
- [ ] Check browser console for JavaScript errors
- [ ] Verify all fetch() calls succeed (nav, footer, carousel, bios)
- [ ] Test modal open/close functionality
- [ ] Check responsive design (resize browser window)
- [ ] Verify all internal links work
- [ ] Validate HTML if adding new pages
- [ ] Check image loading (especially profile images)
- [ ] Test navigation on all pages
- [ ] Verify new content appears correctly

### After Pushing to GitHub
- [ ] Wait for GitHub Pages deployment (~1-2 minutes)
- [ ] Visit live site and verify changes
- [ ] Test on mobile device if layout changes made
- [ ] Check cross-browser compatibility if JS changes made

## Troubleshooting Guide

### Problem: Navigation/Footer Not Loading
**Cause**: Fetch request failing
**Solution**: 
1. Check console for errors
2. Verify `nav.html` or `footer.html` exists
3. Ensure running on web server (not `file://`)
4. Check `fetchnav.js` or `fetchfooter.js` is included in page

### Problem: Modal Not Opening
**Cause**: Person ID mismatch or bios.html not loading
**Solution**:
1. Verify ID in `onclick="openModal('id')"` matches `<div id="id">` in bios.html
2. Check console for fetch errors
3. Ensure `teambio.js` is loaded
4. Verify bios.html exists and is accessible

### Problem: Publications Not Showing
**Cause**: JSON file missing or malformed, fetch failing
**Solution**:
1. Verify `publications.json` exists
2. Validate JSON syntax (use JSONLint)
3. Check console for fetch errors
4. Ensure `fetchpublications.js` is loaded
5. Re-run `python fetch_publications.py` if needed

### Problem: Carousel Not Working
**Cause**: jQuery or initialization issue
**Solution**:
1. Verify jQuery loads before carousel scripts
2. Check `carousel.html` exists
3. Ensure `fetchcarousel.js` is included
4. Verify `initializeCarousel()` is called after content loads
5. Check console for JavaScript errors

### Problem: Images Not Loading
**Cause**: Incorrect path or missing file
**Solution**:
1. Verify image exists in `images/` directory
2. Check file extension matches (PNG vs JPG vs jpg)
3. Verify path is relative from HTML file: `images/filename.ext`
4. Check for typos in filename (case-sensitive on some servers)

### Problem: Styles Not Applied
**Cause**: CSS not loading or class names wrong
**Solution**:
1. Verify `main.css` exists and loads (check Network tab)
2. Check class names match Helios template conventions
3. Clear browser cache (Ctrl+F5)
4. Verify no CSS syntax errors

## Useful Commands

```bash
# Start local development server
python -m http.server

# Update publications from Google Scholar
python fetch_publications.py

# Git workflow
git pull origin main          # Get latest changes
git status                    # Check what's changed
git add .                     # Stage all changes
git commit -m "Description"   # Commit with message
git push origin main          # Deploy to GitHub Pages

# Check Python dependencies
pip list | grep -E 'requests|beautifulsoup4'

# Install Python dependencies
pip install requests beautifulsoup4
```

## Quick Tips for AI Agents

1. **Always use local server**: JavaScript fetch() requires HTTP, not file://
2. **Check existing patterns**: Look at similar existing code before creating new
3. **Maintain consistency**: Follow naming conventions and structure patterns
4. **Test modular changes**: Changes to nav/footer/bios affect multiple pages
5. **Preserve jQuery**: Template depends on it, don't try to remove it
6. **Image optimization**: Compress large images before committing
7. **Mobile-first thinking**: Test responsive design with browser tools
8. **Console is your friend**: JavaScript errors show in browser console
9. **Git commit messages**: Be descriptive about what changed and why
10. **Documentation updates**: Update README.md if functionality changes significantly

## Contact & Support

- **Repository**: StyrbjornKall/kristianssonlabofwonders
- **Template**: Helios by HTML5 UP (html5up.net)
- **Issue**: Check browser console first, then review this guide
- **Major Changes**: Document in STRUCTURE_DOCUMENTATION.md

---

**Last Updated**: January 5, 2026  
**Quick Reference Version**: 1.0
